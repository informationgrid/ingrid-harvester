/*
 * This file was generated by the Gradle 'init' task.
 */

plugins {
    id "nebula.rpm" version "6.2.1"
    id "fr.brouillard.oss.gradle.jgitver" version "0.9.1"
}

repositories {
    jcenter()
}

version = 'MANAGED_BY_JGITVER'
description = 'InGrid mCLOUD Importer'

task buildRpm(type: Rpm) {
    packageName 'mcloud-importer'
    release '1'
    arch I386
    os LINUX
    addParentDirs false
    createDirectoryEntry false
    obsoletes('mcloud-ingrid')
    vendor 'wemove digital solutions GmbH'
    packager 'wemove digital solutions GmbH'
    url 'https://www.wemove.com'
    changeLogFile project.file("${project.projectDir}/changelog")

    postInstall file('rpm/post_install.sh')

    into '/opt/ingrid/mcloud-importer'
    from 'server/build'

    from('rpm/mcloud-importer.service') {
        into '/etc/systemd/system'
    }
}

